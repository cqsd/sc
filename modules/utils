#!/bin/bash

_utils_short_help() {
    echo "Miscellaneous"
}

_utils() {
    echo "usage: $(basename $0) ${FUNCNAME[0]} subcommand"
    echo
    echo "available subcommands are:"
    echo "  view-json - pretty view json (jq -C into a pager) (better than bat!)"
    echo "  calc      - do simple calculations with bc (calc '1/2*5.1')"
}

_utils_view-json() {
    if ! [ $# -eq 1 ]; then
        echo 'usage: view-json FILE'
        exit 1
    fi
    jq -C . < $1 | less -R
}

_utils_calc() {
    if ! [ $# -eq 1 ]; then
        echo 'usage: calc "1/2*5"'
        exit 1
    fi
    __warn fyi this is only outputting 6 decimals
    echo "scale=6; $1" | bc -liq
}
